#!/bin/bash


## name
declare -g "_gs_1_opt"

## veriable
_gs_1_opt="${1}"

shift "1"

## function
function _gf_tool_echo () 
{
        declare -a "_la_exec_notifysend" ;
        #       #
        echo -e "\n${4}\033[${1:?}${2:?}: ${3:?}\033[0m" ;
        #       #
        _la_exec_notifysend=(
                '/usr/bin/notify-send'
                --app-name="bwrapsh"
                "${2}"
                "${3}"
        )
        #       #
        "${_la_exec_notifysend[@]}" ;
}
declare -F "_gf_tool_echo"


## initialation
if [[ -r "/usr/local/share/bwrapsh/main/init/default" ]] ; then
    source "/usr/local/share/bwrapsh/main/init/default"
fi


## option
case "${_gs_1_opt}" in
    "version")
        '/usr/bin/cat' "/usr/share/bwrapsh/main/info/version"
    ;;
    "help")
        '/usr/bin/cat' "/usr/share/bwrapsh/main/info/help"
    ;;
    "dbusproxy" | "dbus")
        source "/usr/share/bwrapsh/main/base/bwrapsh_dbusproxy"
    ;;
    "flatpakx11" | "x11")
        source "/usr/share/bwrapsh/main/base/bwrapsh_flatpakx11"
    ;;
    *)
        echo -e "\n\033[31mERROR: Unkown option!\033[0m\n"
        '/usr/bin/cat' "/usr/share/bwrapsh/main/info/help"
        exit "1"
    ;;
esac

